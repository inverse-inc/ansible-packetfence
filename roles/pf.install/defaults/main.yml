---
### RedHat specific
centos:
  repo: packetfence

centos_pf_release_pkg: packetfence-release
centos_pf_release_rpm: "http://packetfence.org/downloads/PacketFence/RHEL7/x86_64/RPMS/{{ centos_pf_release_pkg }}-1.2-7.el7.noarch.rpm"
centos_pf_packages:
  - packetfence
  - packetfence-ntlm-wrapper

centos_python_mysql_pkg: python2-PyMySQL

### Debian specific
# list, see packetfence.list.j2
deb:
  repos:
    - debian
deb_inverse_key_id: FE9E84327B18FF82B0378B6719CDA6A9810273C4
deb_sources_dir: /etc/apt/sources.list.d
deb_pf_packages:
  - packetfence

shell_rc_file: /root/.bashrc

### database
pf_database_db: pf
pf_database_root_user: root
pf_database_root_pass: secret
pf_database_pass: secret
pf_database_users:
  - name: pf
    password: "{{ pf_database_pass }}"
    priv: "pf.*:SELECT,INSERT,UPDATE,DELETE,LOCK TABLES,EXECUTE/mysql.proc:SELECT/pf.radius_nas:DROP"
    append_privs: no
    host: "localhost"
  - name: pf
    password: "{{ pf_database_pass }}"
    priv: "pf.*:SELECT,INSERT,UPDATE,DELETE,LOCK TABLES,EXECUTE/mysql.proc:SELECT/pf.radius_nas:DROP"
    append_privs: no
    host: "%"

### configurator
# interfaces
pf_mgmt_interface:
  id: "{{ ansible_default_ipv4['interface'] }}"
  ip: "{{ ansible_default_ipv4['address'] }}"
  mask: "{{ ansible_default_ipv4['netmask'] }}"
  type: management

### users
pf_admin_user:
  pid: admin
  password: secret

# to use API
pf_admin_credentials:
  username: "{{ pf_admin_user['pid'] }}"
  password: "{{ pf_admin_user['password'] }}"


pf_api_calls:
  - route: "{{ pf_api_config['base'] }}/{{ pf_api_config_base_items['general'] }}"
    method: PATCH
    body:
      id: "{{ pf_api_config_base_items['general'] }}"
      dhcpservers: 10.0.0.1,192.168.122.1
      domain: example.lan
      hostname: myhostname
      timezone: Europe/Paris
  - route: "{{ pf_api_users }}"
    method: POST
    body:
      pid: foo1
      email: foo1@foo.com
      # address: string
      # anniversary: string
      # apartment_number: string
      # birthday: string
      # building_number: string
      # cell_phone: string
      # company: string
      # custom_field_1: string
      # custom_field_2: string
      # custom_field_3: string
      # custom_field_4: string
      # custom_field_5: string
      # custom_field_6: string
      # custom_field_7: string
      # custom_field_8: string
      # custom_field_9: string
      # email: string@foo.com
      # firstname: string
      # gender: string
      # lang: string
      # lastname: string
      # nickname: string
      # notes: string
      # pid: string
      # portal: string
      # potd: string
      # psk: string
      # room_number: string
      # source: string
      # sponsor: string
      # telephone: string
      # tenant_id: 0
      # title: string
      # work_phone: string
  - route: "{{ pf_api_user }}/foo1/password"
    method: POST
    body:
      # access_duration:
      access_level: ALL_PF_ONLY
      # category: 
      expiration: 2019-05-01 00:00:00
      # login_remaining: 0
      password: foo1
      pid: foo1
      sponsor: true
      #unregdate: 0000-00-00 00:00:00
      valid_from: 2019-04-01 00:00:00


# next ..